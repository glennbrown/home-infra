# SnapRAID Configuration
{{ ansible_managed | comment }}
# DO NOT EDIT MANUALLY

# Parity location(s)
{% for disk in snapraid_parity_disks %}
{{ loop.index }}-parity {{ disk.path }}/snapraid{{ loop.index }}.parity
{% endfor %}

# Content file location(s)
{% for content_file in snapraid_content_files %}
content {{ content_file }}
{% endfor %}
{% for disk in snapraid_parity_disks %}
{% if disk.content == true %}   
content {{ disk.path }}/snapraid.content
{% endif %}
{% endfor %}
{% for disk in snapraid_data_disks %}
{% if disk.content == true %}
content {{ disk.path }}/.snapraid.content
{% endif %}
{% endfor %}

# Data disks (btrfs data subvol)
{% for disk in snapraid_data_disks %}
data d{{ loop.index }} {{ disk.path }}{{ disk.data_path | default('') }}
{% endfor %}

# Excludes hidden files and directories
nohidden

# Define files and directories to exclude
 exclude "*.unrecoverable"
 exclude "/tmp/"
 exclude "/lost+found/"
 exclude "*.!sync"
 exclude ".AppleDouble"
 exclude "._AppleDouble"
 exclude ".DS_Store"
 exclude "._.DS_Store"
 exclude ".Thumbs.db"
 exclude ".fseventsd"
 exclude ".Spotlight-V100"
 exclude ".TemporaryItems"
 exclude ".Trashes"
 exclude ".AppleDB"
 exclude ".nfo"
{% for item in snapraid_excludes_extras %}
exclude {{ item }}
{% endfor %}

# Autosaves the state while syncing and scrubbing after the specified amount of GB processed.
autosave 500